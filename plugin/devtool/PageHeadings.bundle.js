"use strict";
(self["webpackChunkaloha"] = self["webpackChunkaloha"] || []).push([["PageHeadings"],{

/***/ "./src/views/PageHeadings/PageHeadings.vue":
/*!*************************************************!*\
  !*** ./src/views/PageHeadings/PageHeadings.vue ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PageHeadings_pug_vue_type_template_id_4bcfad85_lang_pug_external__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PageHeadings.pug?vue&type=template&id=4bcfad85&lang=pug&external */ "./src/views/PageHeadings/PageHeadings.pug?vue&type=template&id=4bcfad85&lang=pug&external");
/* harmony import */ var _PageHeadings_js_vue_type_script_lang_js_external__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PageHeadings.js?vue&type=script&lang=js&external */ "./src/views/PageHeadings/PageHeadings.js?vue&type=script&lang=js&external?e38b");
/* harmony import */ var _node_modules_vue_loader_dist_exportHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../node_modules/vue-loader/dist/exportHelper.js */ "./node_modules/vue-loader/dist/exportHelper.js");




;
const __exports__ = /*#__PURE__*/(0,_node_modules_vue_loader_dist_exportHelper_js__WEBPACK_IMPORTED_MODULE_2__["default"])(_PageHeadings_js_vue_type_script_lang_js_external__WEBPACK_IMPORTED_MODULE_1__["default"], [['render',_PageHeadings_pug_vue_type_template_id_4bcfad85_lang_pug_external__WEBPACK_IMPORTED_MODULE_0__.render],['__file',"src/views/PageHeadings/PageHeadings.vue"]])
/* hot reload */
if (false) {}


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__exports__);

/***/ }),

/***/ "./src/views/PageHeadings/PageHeadings.pug?vue&type=template&id=4bcfad85&lang=pug&external":
/*!*************************************************************************************************!*\
  !*** ./src/views/PageHeadings/PageHeadings.pug?vue&type=template&id=4bcfad85&lang=pug&external ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   render: () => (/* reexport safe */ _node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_1_node_modules_vue_pug_loader_index_js_PageHeadings_pug_vue_type_template_id_4bcfad85_lang_pug_external__WEBPACK_IMPORTED_MODULE_0__.render)
/* harmony export */ });
/* harmony import */ var _node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_1_node_modules_vue_pug_loader_index_js_PageHeadings_pug_vue_type_template_id_4bcfad85_lang_pug_external__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[1]!../../../node_modules/vue-pug-loader/index.js!./PageHeadings.pug?vue&type=template&id=4bcfad85&lang=pug&external */ "./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[1]!./node_modules/vue-pug-loader/index.js!./src/views/PageHeadings/PageHeadings.pug?vue&type=template&id=4bcfad85&lang=pug&external");


/***/ }),

/***/ "./src/views/PageHeadings/PageHeadings.js?vue&type=script&lang=js&external?e38b":
/*!*********************************************************************************!*\
  !*** ./src/views/PageHeadings/PageHeadings.js?vue&type=script&lang=js&external ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _PageHeadings_js_vue_type_script_lang_js_external__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _PageHeadings_js_vue_type_script_lang_js_external__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./PageHeadings.js?vue&type=script&lang=js&external */ "./src/views/PageHeadings/PageHeadings.js?vue&type=script&lang=js&external?b71f");
 

/***/ }),

/***/ "./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[1]!./node_modules/vue-pug-loader/index.js!./src/views/PageHeadings/PageHeadings.pug?vue&type=template&id=4bcfad85&lang=pug&external":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[1]!./node_modules/vue-pug-loader/index.js!./src/views/PageHeadings/PageHeadings.pug?vue&type=template&id=4bcfad85&lang=pug&external ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   render: () => (/* binding */ render)
/* harmony export */ });
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ "./node_modules/vue/dist/vue.esm-bundler.js");


const _hoisted_1 = { class: "row mx-0" }
const _hoisted_2 = { class: "col-6" }
const _hoisted_3 = { class: "card" }
const _hoisted_4 = /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div", { class: "card-header" }, [
  /*#__PURE__*/(0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("h2", { class: "h4 mb-0" }, "Funktionalität")
], -1 /* HOISTED */)
const _hoisted_5 = { class: "card-body" }
const _hoisted_6 = {
  class: "btn-group",
  role: "group"
}
const _hoisted_7 = { class: "col-6" }
const _hoisted_8 = { class: "card" }
const _hoisted_9 = { class: "card-header" }
const _hoisted_10 = { class: "card-body" }
const _hoisted_11 = { class: "list-group" }
const _hoisted_12 = ["href"]

function render(_ctx, _cache) {
  const _component_a_translation = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)("a-translation")

  return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div", null, [
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_translation, {
      tag: "h1",
      text: "_HEADINGS_H1_H6_"
    }),
    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div", _hoisted_1, [
      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div", _hoisted_2, [
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div", _hoisted_3, [
          _hoisted_4,
          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div", _hoisted_5, [
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div", _hoisted_6, [
              (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("button", {
                class: "btn btn-outline-primary",
                type: "button",
                onClick: _cache[0] || (_cache[0] = (...args) => (_ctx.toggleHeadings && _ctx.toggleHeadings(...args)))
              }, [
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_translation, {
                  tag: "span",
                  text: _ctx.textForBtnToggleHeadings
                }, null, 8 /* PROPS */, ["text"])
              ]),
              (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("button", {
                class: "btn btn-outline-primary",
                type: "button",
                onClick: _cache[1] || (_cache[1] = (...args) => (_ctx.checkHeadings && _ctx.checkHeadings(...args)))
              }, [
                (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_translation, {
                  tag: "span",
                  text: "_HEADINGS_CHECK_"
                })
              ])
            ])
          ])
        ])
      ]),
      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div", _hoisted_7, [
        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div", _hoisted_8, [
          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div", _hoisted_9, [
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_translation, {
              class: "h4 mb-0",
              tag: "h2",
              text: "_LINKS_"
            })
          ]),
          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div", _hoisted_10, [
            (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("ul", _hoisted_11, [
              ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(true), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(_ctx.links, (link) => {
                return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("li", {
                  class: "list-group-item",
                  key: link.label
                }, [
                  (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("a", {
                    class: "position-relative",
                    href: link.href,
                    target: "_blank"
                  }, [
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_translation, {
                      tag: "span",
                      text: link.label
                    }, null, 8 /* PROPS */, ["text"]),
                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_translation, {
                      class: "absolute_all",
                      tag: "span",
                      title: link.title,
                      "aria-hidden": "true"
                    }, null, 8 /* PROPS */, ["title"])
                  ], 8 /* PROPS */, _hoisted_12)
                ]))
              }), 128 /* KEYED_FRAGMENT */))
            ])
          ])
        ])
      ])
    ])
  ]))
}

/***/ }),

/***/ "./src/functions/event-bus.js":
/*!************************************!*\
  !*** ./src/functions/event-bus.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventBus: () => (/* binding */ EventBus)
/* harmony export */ });
/* harmony import */ var tiny_emitter_instance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-emitter/instance */ "./node_modules/tiny-emitter/instance.js");
/* harmony import */ var tiny_emitter_instance__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tiny_emitter_instance__WEBPACK_IMPORTED_MODULE_0__);


const EventBus = {
  $on: (...args) => tiny_emitter_instance__WEBPACK_IMPORTED_MODULE_0___default().on(...args),
  $once: (...args) => tiny_emitter_instance__WEBPACK_IMPORTED_MODULE_0___default().once(...args),
  $off: (...args) => tiny_emitter_instance__WEBPACK_IMPORTED_MODULE_0___default().off(...args),
  $emit: (...args) => tiny_emitter_instance__WEBPACK_IMPORTED_MODULE_0___default().emit(...args)
};


/***/ }),

/***/ "./src/functions/utils.js":
/*!********************************!*\
  !*** ./src/functions/utils.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   traverse: () => (/* binding */ traverse)
/* harmony export */ });
function traverse(tags = [], className, stop = false) {
  traverseNew(window, tags, stop);

  function traverseNew(currentWindow = window, tags = [], stop) {
    deleteTags(currentWindow);
    try {
      if (!stop) {
        for (let i = 0; i < tags.length; i++) {
          insertTag(currentWindow, tags[i]);
        }
      }
      for (let i = 0; i < currentWindow.frames.length; i++) {
        traverseNew(currentWindow.frames[i], tags, stop);
      }
    } catch (e) {
      console.warn(e);
    }

    function deleteTags(currentWindow) {
      const ALL_TAGS = currentWindow.document.querySelectorAll(`.${ className }`);
      ALL_TAGS.forEach(element => {
        element.parentNode.removeChild(element);
      });
    }

    function insertTag(w, tag) {
      const CURRENT_TAGS = w.document.getElementsByTagName(tag.name);
      for (let i = 0; i < CURRENT_TAGS.length; i++) {
        if (!tag.insertInParent) {
          CURRENT_TAGS[i].insertBefore(createTag(w, tag, ""), CURRENT_TAGS[i].firstChild);
          CURRENT_TAGS[i].appendChild(createTag(w, tag, "/"));
        } else {
          CURRENT_TAGS[i].parentNode.insertBefore(createTag(w, tag, ""), CURRENT_TAGS[i]);
          CURRENT_TAGS[i].parentNode.insertBefore(createTag(w, tag, "/"), CURRENT_TAGS[i].nextSibling);
        }
      }
    }

    function createTag(w, tag, slash) {
      const SPAN = w.document.createElement("span");
      SPAN.className = className;
      const STYLE = SPAN.style;
      STYLE.color = tag.color;
      STYLE.backgroundColor = "#fff";
      STYLE.backgroundImage = "none";
      STYLE.fontSize = "14px";
      STYLE.fontWeight = "bold";
      const TEXT_NODE = w.document.createTextNode("<" + slash + tag.name + ">");
      SPAN.insertBefore(TEXT_NODE, SPAN.firstChild);
      return SPAN;
    }
  }
}


/***/ }),

/***/ "./src/views/PageHeadings/PageHeadings.js?vue&type=script&lang=js&external?b71f":
/*!*********************************************************************************!*\
  !*** ./src/views/PageHeadings/PageHeadings.js?vue&type=script&lang=js&external ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var aloha_vue_src_ATranslation_ATranslation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aloha-vue/src/ATranslation/ATranslation */ "./node_modules/aloha-vue/src/ATranslation/ATranslation.js");
/* harmony import */ var _functions_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../functions/utils */ "./src/functions/utils.js");
/* harmony import */ var _functions_event_bus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../functions/event-bus */ "./src/functions/event-bus.js");
/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash-es */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_es__WEBPACK_IMPORTED_MODULE_3__);






const TAGS = [
  {
    name: "H1",
    color: "#ff0000",
    insertInParent: false,
  },
  {
    name: "H2",
    color: "#713939",
    insertInParent: false,
  },
  {
    name: "H3",
    color: "#00aa00",
    insertInParent: false,
  },
  {
    name: "H4",
    color: "#054164",
    insertInParent: false,
  },
  {
    name: "H5",
    color: "#7F0A7F",
    insertInParent: false,
  },
  {
    name: "H6",
    color: "#01D901",
    insertInParent: false,
  },
];

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  name: "ViewHeadings",
  components: {
    ATranslation: aloha_vue_src_ATranslation_ATranslation__WEBPACK_IMPORTED_MODULE_0__["default"],
  },
  inject: [
    "tabId",
    "consoleLog",
    "getStorageValue",
    "setStorageValue",
  ],
  data() {
    return {
      isHeadingsVisible: false,
      links: [
        {
          href: "https://www.w3.org/WAI/WCAG21/Techniques/html/H42",
          label: "WCAG21 H42",
          title: "Using h1-h6 to identify headings",
        },
        {
          href: "https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships.html",
          label: "WCAG21 1.3.1",
          title: "Success Criterion 1.3.1: Info and Relationships",
        },
        {
          href: "https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships.html",
          label: "BITV 9.1.3.1a",
          title: "Barrierefreie-Informationstechnik-Verordnung. Prüfschritt 9.1.3.1a",
        },
      ],
    };
  },
  computed: {
    textForBtnToggleHeadings() {
      return this.isHeadingsVisible ? "_HEADINGS_HIDE_" : "_HEADINGS_SHOW_";
    },
  },
  created() {
    this.checkGlobalVariables();
    this.initEventBus();
  },
  methods: {
    checkGlobalVariables() {
      this.getStorageValue({ name: "isHeadingsVisible" }).then(
        isHeadingsVisible => {
          this.isHeadingsVisible = !!isHeadingsVisible;
          this.consoleLog("isHeadingsVisible", isHeadingsVisible);
        }
      );
    },

    initEventBus() {
      _functions_event_bus__WEBPACK_IMPORTED_MODULE_2__.EventBus.$on("resetAll", this.resetAll);
    },

    resetAll() {
      this.toggleHeadings({ statusStop: true });
    },

    toggleHeadings({ statusStop } = {}) {
      const STATUS_STOP = (0,lodash_es__WEBPACK_IMPORTED_MODULE_3__.isUndefined)(statusStop) ? !!this.isHeadingsVisible : statusStop;
      chrome.scripting.executeScript(
        {
          target: {
            tabId: this.tabId,
            allFrames: true,
          },
          function: _functions_utils__WEBPACK_IMPORTED_MODULE_1__.traverse,
          args: [TAGS, "a11y_heading", STATUS_STOP],
        }
      );
      this.isHeadingsVisible = !STATUS_STOP;
      this.setStorageValue({
        name: "isHeadingsVisible",
        value: !!this.isHeadingsVisible,
      });
    },

    async checkHeadings() {
      const [TAB] = await chrome.tabs.query({ active: true, currentWindow: true });

      chrome.scripting.executeScript(
        {
          target: {
            tabId: TAB.id,
            allFrames: true,
          },
          function: checkHeadings,
          args: [TAGS, "a11y_heading", !!this.isHeadingsVisible],
        }
      );
    },
  },
});

function checkHeadings() {
  checkHeadingsInWindow(window);

  function checkHeadingsInWindow(currentWindow = window) {
    try {
      findAllHeadings(currentWindow);
      // TODO: frames
      // for (let i = 0; i < currentWindow.frames.length; i++) {
      //   checkHeadingsInWindow(currentWindow.frames[i]);
      // }
    } catch (e) {
      console.warn(e);
    }
  }

  function findAllHeadings(currentWindow) {
    const HEADINGS = currentWindow.document.querySelectorAll("h1, h2, h3, h4, h5, h6");
    const HEADINGS_VISIBLE = [];
    // tagName
    HEADINGS.forEach(element => {
      if (isElementVisible(element)) {
        HEADINGS_VISIBLE.push(element);
      }
    });
    console.log("HEADINGS_VISIBLE", HEADINGS_VISIBLE);
    console.log("length", HEADINGS_VISIBLE.length);
  }

  function isElementVisible(element) {
    return element.offsetWidth > 0 && element.offsetHeight > 0;
  }
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGFnZUhlYWRpbmdzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQTJGO0FBQ3BCO0FBQ0w7O0FBRWxFLENBQW1GO0FBQ25GLGlDQUFpQyx5RkFBZSxDQUFDLHlGQUFNLGFBQWEscUdBQU07QUFDMUU7QUFDQSxJQUFJLEtBQVUsRUFBRSxFQVlmOzs7QUFHRCxpRUFBZTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEJnRTs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJDQUwsS0FBSyxFQUFDLFVBQVU7cUJBQU0sS0FBSyxFQUFDLE9BQU87cUJBQU0sS0FBSyxFQUFDLE1BQU07Z0NBQUMsd0RBQXNFLFNBQWpFLEtBQUssRUFBQyxhQUFhO2VBQUMsd0RBQXVDLFFBQW5DLEtBQUssRUFBQyxTQUFTLElBQUMsZ0JBQWM7O3FCQUFnQixLQUFLLEVBQUMsV0FBVzs7RUFBTSxLQUFLLEVBQUMsV0FBVztFQUFDLElBQUksRUFBQyxPQUFPOztxQkFBd1YsS0FBSyxFQUFDLE9BQU87cUJBQU0sS0FBSyxFQUFDLE1BQU07cUJBQU0sS0FBSyxFQUFDLGFBQWE7c0JBQW1GLEtBQUssRUFBQyxXQUFXO3NCQUFLLEtBQUssRUFBQyxZQUFZO29CQUEzd0I7Ozs7OzREQUFBLHdEQUE4bEM7SUFBemxDLGlEQUFnRTtNQUFqRCxHQUFHLEVBQUMsSUFBSTtNQUFDLElBQUksRUFBQyxrQkFBa0I7O0lBQWlCLHdEQUFtaEMsT0FBbmhDLFVBQW1oQztNQUE3L0Isd0RBQXdmLE9BQXhmLFVBQXdmO1FBQXJlLHdEQUErZCxPQUEvZCxVQUErZDtVQUE3YyxVQUFzRTtVQUFBLHdEQUFpWSxPQUFqWSxVQUFpWTtZQUExVyx3REFBb1csT0FBcFcsVUFBb1c7Y0FBaFUsd0RBQWtLO2dCQUExSixLQUFLLEVBQUMseUJBQXlCO2dCQUFDLElBQUksRUFBQyxRQUFRO2dCQUFFLE9BQUssMENBQUUsbURBQWM7O2dCQUFFLGlEQUEyRTtrQkFBNUQsR0FBRyxFQUFDLE1BQU07a0JBQUUsSUFBSSxFQUFFQSw2QkFBd0I7OztjQUEyQix3REFBd0o7Z0JBQWhKLEtBQUssRUFBQyx5QkFBeUI7Z0JBQUMsSUFBSSxFQUFDLFFBQVE7Z0JBQUUsT0FBSywwQ0FBRSxpREFBYTs7Z0JBQUUsaURBQWtFO2tCQUFuRCxHQUFHLEVBQUMsTUFBTTtrQkFBQyxJQUFJLEVBQUMsa0JBQWtCOzs7Ozs7O01BQWtELHdEQUErZixPQUEvZixVQUErZjtRQUE1ZSx3REFBc2UsT0FBdGUsVUFBc2U7VUFBcGQsd0RBQXNHLE9BQXRHLFVBQXNHO1lBQTdFLGlEQUF1RTtjQUF4RCxLQUFLLEVBQUMsU0FBUztjQUFDLEdBQUcsRUFBQyxJQUFJO2NBQUMsSUFBSSxFQUFDLFNBQVM7OztVQUF1Qix3REFBd1csT0FBeFcsV0FBd1c7WUFBalYsd0RBQTJVLE1BQTNVLFdBQTJVO3FFQUFwVCx3REFBK1MsaURBQTNqQyxnREFBdXpCQyxVQUFLLEVBQTV6QixDQUEreUIsSUFBSTswRUFBdkMsd0RBQStTO2tCQUEzUyxLQUFLLEVBQUMsaUJBQWlCO2tCQUF3QixHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUs7O2tCQUFFLHdEQUFzTztvQkFBbk8sS0FBSyxFQUFDLG1CQUFtQjtvQkFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7b0JBQUUsTUFBTSxFQUFDLFFBQVE7O29CQUFDLGlEQUE2RDtzQkFBOUMsR0FBRyxFQUFDLE1BQU07c0JBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLOztvQkFBa0IsaURBQXNHO3NCQUF2RixLQUFLLEVBQUMsY0FBYztzQkFBQyxHQUFHLEVBQUMsTUFBTTtzQkFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7c0JBQUUsYUFBVyxFQUFDLE1BQU07O29DQUFqaUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBNEM7QUFDNUM7QUFDTztBQUNQLG9CQUFvQiwrREFBVTtBQUM5QixzQkFBc0IsaUVBQVk7QUFDbEMscUJBQXFCLGdFQUFXO0FBQ2hDLHNCQUFzQixpRUFBWTtBQUNsQzs7Ozs7Ozs7Ozs7Ozs7O0FDUE87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQ0FBaUM7QUFDdkQ7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxXQUFXO0FBQy9FO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IseUJBQXlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcERtRTtBQUNuRTtBQUcrQjtBQUdJO0FBR2hCO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaUVBQWU7QUFDZjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDZCQUE2QiwyQkFBMkI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTSwwREFBUTtBQUNkLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCLGtCQUFrQjtBQUM5QyxLQUFLO0FBQ0w7QUFDQSxxQkFBcUIsYUFBYSxJQUFJO0FBQ3RDLDBCQUEwQixzREFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLG9CQUFvQixzREFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLDhDQUE4QyxtQ0FBbUM7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDLEVBQUM7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlDQUFpQztBQUMxRDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWxvaGEvLi9zcmMvdmlld3MvUGFnZUhlYWRpbmdzL1BhZ2VIZWFkaW5ncy52dWUiLCJ3ZWJwYWNrOi8vYWxvaGEvLi9zcmMvdmlld3MvUGFnZUhlYWRpbmdzL1BhZ2VIZWFkaW5ncy5qcz9lMzhiIiwid2VicGFjazovL2Fsb2hhLy4vc3JjL3ZpZXdzL1BhZ2VIZWFkaW5ncy9QYWdlSGVhZGluZ3MucHVnIiwid2VicGFjazovL2Fsb2hhLy4vc3JjL2Z1bmN0aW9ucy9ldmVudC1idXMuanMiLCJ3ZWJwYWNrOi8vYWxvaGEvLi9zcmMvZnVuY3Rpb25zL3V0aWxzLmpzIiwid2VicGFjazovL2Fsb2hhLy4vc3JjL3ZpZXdzL1BhZ2VIZWFkaW5ncy9QYWdlSGVhZGluZ3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSBcIi4vUGFnZUhlYWRpbmdzLnB1Zz92dWUmdHlwZT10ZW1wbGF0ZSZpZD00YmNmYWQ4NSZsYW5nPXB1ZyZleHRlcm5hbFwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL1BhZ2VIZWFkaW5ncy5qcz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZleHRlcm5hbFwiXG5leHBvcnQgKiBmcm9tIFwiLi9QYWdlSGVhZGluZ3MuanM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmZXh0ZXJuYWxcIlxuXG5pbXBvcnQgZXhwb3J0Q29tcG9uZW50IGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2V4cG9ydEhlbHBlci5qc1wiXG5jb25zdCBfX2V4cG9ydHNfXyA9IC8qI19fUFVSRV9fKi9leHBvcnRDb21wb25lbnQoc2NyaXB0LCBbWydyZW5kZXInLHJlbmRlcl0sWydfX2ZpbGUnLFwic3JjL3ZpZXdzL1BhZ2VIZWFkaW5ncy9QYWdlSGVhZGluZ3MudnVlXCJdXSlcbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIF9fZXhwb3J0c19fLl9faG1ySWQgPSBcIjRiY2ZhZDg1XCJcbiAgY29uc3QgYXBpID0gX19WVUVfSE1SX1JVTlRJTUVfX1xuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmICghYXBpLmNyZWF0ZVJlY29yZCgnNGJjZmFkODUnLCBfX2V4cG9ydHNfXykpIHtcbiAgICBhcGkucmVsb2FkKCc0YmNmYWQ4NScsIF9fZXhwb3J0c19fKVxuICB9XG4gIFxuICBtb2R1bGUuaG90LmFjY2VwdChcIi4vUGFnZUhlYWRpbmdzLnB1Zz92dWUmdHlwZT10ZW1wbGF0ZSZpZD00YmNmYWQ4NSZsYW5nPXB1ZyZleHRlcm5hbFwiLCAoKSA9PiB7XG4gICAgYXBpLnJlcmVuZGVyKCc0YmNmYWQ4NScsIHJlbmRlcilcbiAgfSlcblxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IF9fZXhwb3J0c19fIiwiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gXCItIS4vUGFnZUhlYWRpbmdzLmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJmV4dGVybmFsXCI7IGV4cG9ydCAqIGZyb20gXCItIS4vUGFnZUhlYWRpbmdzLmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJmV4dGVybmFsXCIiLCI8ZGl2PjxhLXRyYW5zbGF0aW9uIHRhZz1cImgxXCIgdGV4dD1cIl9IRUFESU5HU19IMV9INl9cIj48L2EtdHJhbnNsYXRpb24+PGRpdiBjbGFzcz1cInJvdyBteC0wXCI+PGRpdiBjbGFzcz1cImNvbC02XCI+PGRpdiBjbGFzcz1cImNhcmRcIj48ZGl2IGNsYXNzPVwiY2FyZC1oZWFkZXJcIj48aDIgY2xhc3M9XCJoNCBtYi0wXCI+RnVua3Rpb25hbGl0w6R0PC9oMj48L2Rpdj48ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+PGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiIHJvbGU9XCJncm91cFwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtcHJpbWFyeVwiIHR5cGU9XCJidXR0b25cIiBAY2xpY2s9XCJ0b2dnbGVIZWFkaW5nc1wiPjxhLXRyYW5zbGF0aW9uIHRhZz1cInNwYW5cIiA6dGV4dD1cInRleHRGb3JCdG5Ub2dnbGVIZWFkaW5nc1wiPjwvYS10cmFuc2xhdGlvbj48L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnlcIiB0eXBlPVwiYnV0dG9uXCIgQGNsaWNrPVwiY2hlY2tIZWFkaW5nc1wiPjxhLXRyYW5zbGF0aW9uIHRhZz1cInNwYW5cIiB0ZXh0PVwiX0hFQURJTkdTX0NIRUNLX1wiPjwvYS10cmFuc2xhdGlvbj48L2J1dHRvbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLTZcIj48ZGl2IGNsYXNzPVwiY2FyZFwiPjxkaXYgY2xhc3M9XCJjYXJkLWhlYWRlclwiPjxhLXRyYW5zbGF0aW9uIGNsYXNzPVwiaDQgbWItMFwiIHRhZz1cImgyXCIgdGV4dD1cIl9MSU5LU19cIj48L2EtdHJhbnNsYXRpb24+PC9kaXY+PGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPjx1bCBjbGFzcz1cImxpc3QtZ3JvdXBcIj48bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIiB2LWZvcj1cImxpbmsgaW4gbGlua3NcIiA6a2V5PVwibGluay5sYWJlbFwiPjxhIGNsYXNzPVwicG9zaXRpb24tcmVsYXRpdmVcIiA6aHJlZj1cImxpbmsuaHJlZlwiIHRhcmdldD1cIl9ibGFua1wiPjxhLXRyYW5zbGF0aW9uIHRhZz1cInNwYW5cIiA6dGV4dD1cImxpbmsubGFiZWxcIj48L2EtdHJhbnNsYXRpb24+PGEtdHJhbnNsYXRpb24gY2xhc3M9XCJhYnNvbHV0ZV9hbGxcIiB0YWc9XCJzcGFuXCIgOnRpdGxlPVwibGluay50aXRsZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvYS10cmFuc2xhdGlvbj48L2E+PC9saT48L3VsPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PiIsImltcG9ydCBlbWl0dGVyIGZyb20gXCJ0aW55LWVtaXR0ZXIvaW5zdGFuY2VcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBFdmVudEJ1cyA9IHtcclxuICAkb246ICguLi5hcmdzKSA9PiBlbWl0dGVyLm9uKC4uLmFyZ3MpLFxyXG4gICRvbmNlOiAoLi4uYXJncykgPT4gZW1pdHRlci5vbmNlKC4uLmFyZ3MpLFxyXG4gICRvZmY6ICguLi5hcmdzKSA9PiBlbWl0dGVyLm9mZiguLi5hcmdzKSxcclxuICAkZW1pdDogKC4uLmFyZ3MpID0+IGVtaXR0ZXIuZW1pdCguLi5hcmdzKVxyXG59O1xyXG4iLCJleHBvcnQgZnVuY3Rpb24gdHJhdmVyc2UodGFncyA9IFtdLCBjbGFzc05hbWUsIHN0b3AgPSBmYWxzZSkge1xyXG4gIHRyYXZlcnNlTmV3KHdpbmRvdywgdGFncywgc3RvcCk7XHJcblxyXG4gIGZ1bmN0aW9uIHRyYXZlcnNlTmV3KGN1cnJlbnRXaW5kb3cgPSB3aW5kb3csIHRhZ3MgPSBbXSwgc3RvcCkge1xyXG4gICAgZGVsZXRlVGFncyhjdXJyZW50V2luZG93KTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghc3RvcCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaW5zZXJ0VGFnKGN1cnJlbnRXaW5kb3csIHRhZ3NbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRXaW5kb3cuZnJhbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdHJhdmVyc2VOZXcoY3VycmVudFdpbmRvdy5mcmFtZXNbaV0sIHRhZ3MsIHN0b3ApO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZWxldGVUYWdzKGN1cnJlbnRXaW5kb3cpIHtcclxuICAgICAgY29uc3QgQUxMX1RBR1MgPSBjdXJyZW50V2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4keyBjbGFzc05hbWUgfWApO1xyXG4gICAgICBBTExfVEFHUy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5zZXJ0VGFnKHcsIHRhZykge1xyXG4gICAgICBjb25zdCBDVVJSRU5UX1RBR1MgPSB3LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZy5uYW1lKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDVVJSRU5UX1RBR1MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoIXRhZy5pbnNlcnRJblBhcmVudCkge1xyXG4gICAgICAgICAgQ1VSUkVOVF9UQUdTW2ldLmluc2VydEJlZm9yZShjcmVhdGVUYWcodywgdGFnLCBcIlwiKSwgQ1VSUkVOVF9UQUdTW2ldLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgQ1VSUkVOVF9UQUdTW2ldLmFwcGVuZENoaWxkKGNyZWF0ZVRhZyh3LCB0YWcsIFwiL1wiKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIENVUlJFTlRfVEFHU1tpXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjcmVhdGVUYWcodywgdGFnLCBcIlwiKSwgQ1VSUkVOVF9UQUdTW2ldKTtcclxuICAgICAgICAgIENVUlJFTlRfVEFHU1tpXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjcmVhdGVUYWcodywgdGFnLCBcIi9cIiksIENVUlJFTlRfVEFHU1tpXS5uZXh0U2libGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlVGFnKHcsIHRhZywgc2xhc2gpIHtcclxuICAgICAgY29uc3QgU1BBTiA9IHcuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgIFNQQU4uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgICBjb25zdCBTVFlMRSA9IFNQQU4uc3R5bGU7XHJcbiAgICAgIFNUWUxFLmNvbG9yID0gdGFnLmNvbG9yO1xyXG4gICAgICBTVFlMRS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZcIjtcclxuICAgICAgU1RZTEUuYmFja2dyb3VuZEltYWdlID0gXCJub25lXCI7XHJcbiAgICAgIFNUWUxFLmZvbnRTaXplID0gXCIxNHB4XCI7XHJcbiAgICAgIFNUWUxFLmZvbnRXZWlnaHQgPSBcImJvbGRcIjtcclxuICAgICAgY29uc3QgVEVYVF9OT0RFID0gdy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIjxcIiArIHNsYXNoICsgdGFnLm5hbWUgKyBcIj5cIik7XHJcbiAgICAgIFNQQU4uaW5zZXJ0QmVmb3JlKFRFWFRfTk9ERSwgU1BBTi5maXJzdENoaWxkKTtcclxuICAgICAgcmV0dXJuIFNQQU47XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBBVHJhbnNsYXRpb24gZnJvbSBcImFsb2hhLXZ1ZS9zcmMvQVRyYW5zbGF0aW9uL0FUcmFuc2xhdGlvblwiO1xyXG5cclxuaW1wb3J0IHtcclxuICB0cmF2ZXJzZSxcclxufSBmcm9tIFwiLi4vLi4vZnVuY3Rpb25zL3V0aWxzXCI7XHJcbmltcG9ydCB7XHJcbiAgRXZlbnRCdXMsXHJcbn0gZnJvbSBcIi4uLy4uL2Z1bmN0aW9ucy9ldmVudC1idXNcIjtcclxuaW1wb3J0IHtcclxuICBpc1VuZGVmaW5lZCxcclxufSBmcm9tIFwibG9kYXNoLWVzXCI7XHJcblxyXG5jb25zdCBUQUdTID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiSDFcIixcclxuICAgIGNvbG9yOiBcIiNmZjAwMDBcIixcclxuICAgIGluc2VydEluUGFyZW50OiBmYWxzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiSDJcIixcclxuICAgIGNvbG9yOiBcIiM3MTM5MzlcIixcclxuICAgIGluc2VydEluUGFyZW50OiBmYWxzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiSDNcIixcclxuICAgIGNvbG9yOiBcIiMwMGFhMDBcIixcclxuICAgIGluc2VydEluUGFyZW50OiBmYWxzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiSDRcIixcclxuICAgIGNvbG9yOiBcIiMwNTQxNjRcIixcclxuICAgIGluc2VydEluUGFyZW50OiBmYWxzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiSDVcIixcclxuICAgIGNvbG9yOiBcIiM3RjBBN0ZcIixcclxuICAgIGluc2VydEluUGFyZW50OiBmYWxzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiSDZcIixcclxuICAgIGNvbG9yOiBcIiMwMUQ5MDFcIixcclxuICAgIGluc2VydEluUGFyZW50OiBmYWxzZSxcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIG5hbWU6IFwiVmlld0hlYWRpbmdzXCIsXHJcbiAgY29tcG9uZW50czoge1xyXG4gICAgQVRyYW5zbGF0aW9uLFxyXG4gIH0sXHJcbiAgaW5qZWN0OiBbXHJcbiAgICBcInRhYklkXCIsXHJcbiAgICBcImNvbnNvbGVMb2dcIixcclxuICAgIFwiZ2V0U3RvcmFnZVZhbHVlXCIsXHJcbiAgICBcInNldFN0b3JhZ2VWYWx1ZVwiLFxyXG4gIF0sXHJcbiAgZGF0YSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzSGVhZGluZ3NWaXNpYmxlOiBmYWxzZSxcclxuICAgICAgbGlua3M6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBocmVmOiBcImh0dHBzOi8vd3d3LnczLm9yZy9XQUkvV0NBRzIxL1RlY2huaXF1ZXMvaHRtbC9INDJcIixcclxuICAgICAgICAgIGxhYmVsOiBcIldDQUcyMSBINDJcIixcclxuICAgICAgICAgIHRpdGxlOiBcIlVzaW5nIGgxLWg2IHRvIGlkZW50aWZ5IGhlYWRpbmdzXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBocmVmOiBcImh0dHBzOi8vd3d3LnczLm9yZy9XQUkvV0NBRzIxL1VuZGVyc3RhbmRpbmcvaW5mby1hbmQtcmVsYXRpb25zaGlwcy5odG1sXCIsXHJcbiAgICAgICAgICBsYWJlbDogXCJXQ0FHMjEgMS4zLjFcIixcclxuICAgICAgICAgIHRpdGxlOiBcIlN1Y2Nlc3MgQ3JpdGVyaW9uIDEuMy4xOiBJbmZvIGFuZCBSZWxhdGlvbnNoaXBzXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBocmVmOiBcImh0dHBzOi8vd3d3LnczLm9yZy9XQUkvV0NBRzIxL1VuZGVyc3RhbmRpbmcvaW5mby1hbmQtcmVsYXRpb25zaGlwcy5odG1sXCIsXHJcbiAgICAgICAgICBsYWJlbDogXCJCSVRWIDkuMS4zLjFhXCIsXHJcbiAgICAgICAgICB0aXRsZTogXCJCYXJyaWVyZWZyZWllLUluZm9ybWF0aW9uc3RlY2huaWstVmVyb3JkbnVuZy4gUHLDvGZzY2hyaXR0IDkuMS4zLjFhXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgXSxcclxuICAgIH07XHJcbiAgfSxcclxuICBjb21wdXRlZDoge1xyXG4gICAgdGV4dEZvckJ0blRvZ2dsZUhlYWRpbmdzKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5pc0hlYWRpbmdzVmlzaWJsZSA/IFwiX0hFQURJTkdTX0hJREVfXCIgOiBcIl9IRUFESU5HU19TSE9XX1wiO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIGNyZWF0ZWQoKSB7XHJcbiAgICB0aGlzLmNoZWNrR2xvYmFsVmFyaWFibGVzKCk7XHJcbiAgICB0aGlzLmluaXRFdmVudEJ1cygpO1xyXG4gIH0sXHJcbiAgbWV0aG9kczoge1xyXG4gICAgY2hlY2tHbG9iYWxWYXJpYWJsZXMoKSB7XHJcbiAgICAgIHRoaXMuZ2V0U3RvcmFnZVZhbHVlKHsgbmFtZTogXCJpc0hlYWRpbmdzVmlzaWJsZVwiIH0pLnRoZW4oXHJcbiAgICAgICAgaXNIZWFkaW5nc1Zpc2libGUgPT4ge1xyXG4gICAgICAgICAgdGhpcy5pc0hlYWRpbmdzVmlzaWJsZSA9ICEhaXNIZWFkaW5nc1Zpc2libGU7XHJcbiAgICAgICAgICB0aGlzLmNvbnNvbGVMb2coXCJpc0hlYWRpbmdzVmlzaWJsZVwiLCBpc0hlYWRpbmdzVmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfSxcclxuXHJcbiAgICBpbml0RXZlbnRCdXMoKSB7XHJcbiAgICAgIEV2ZW50QnVzLiRvbihcInJlc2V0QWxsXCIsIHRoaXMucmVzZXRBbGwpO1xyXG4gICAgfSxcclxuXHJcbiAgICByZXNldEFsbCgpIHtcclxuICAgICAgdGhpcy50b2dnbGVIZWFkaW5ncyh7IHN0YXR1c1N0b3A6IHRydWUgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIHRvZ2dsZUhlYWRpbmdzKHsgc3RhdHVzU3RvcCB9ID0ge30pIHtcclxuICAgICAgY29uc3QgU1RBVFVTX1NUT1AgPSBpc1VuZGVmaW5lZChzdGF0dXNTdG9wKSA/ICEhdGhpcy5pc0hlYWRpbmdzVmlzaWJsZSA6IHN0YXR1c1N0b3A7XHJcbiAgICAgIGNocm9tZS5zY3JpcHRpbmcuZXhlY3V0ZVNjcmlwdChcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0YXJnZXQ6IHtcclxuICAgICAgICAgICAgdGFiSWQ6IHRoaXMudGFiSWQsXHJcbiAgICAgICAgICAgIGFsbEZyYW1lczogdHJ1ZSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBmdW5jdGlvbjogdHJhdmVyc2UsXHJcbiAgICAgICAgICBhcmdzOiBbVEFHUywgXCJhMTF5X2hlYWRpbmdcIiwgU1RBVFVTX1NUT1BdLFxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgICAgdGhpcy5pc0hlYWRpbmdzVmlzaWJsZSA9ICFTVEFUVVNfU1RPUDtcclxuICAgICAgdGhpcy5zZXRTdG9yYWdlVmFsdWUoe1xyXG4gICAgICAgIG5hbWU6IFwiaXNIZWFkaW5nc1Zpc2libGVcIixcclxuICAgICAgICB2YWx1ZTogISF0aGlzLmlzSGVhZGluZ3NWaXNpYmxlLFxyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgYXN5bmMgY2hlY2tIZWFkaW5ncygpIHtcclxuICAgICAgY29uc3QgW1RBQl0gPSBhd2FpdCBjaHJvbWUudGFicy5xdWVyeSh7IGFjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZSB9KTtcclxuXHJcbiAgICAgIGNocm9tZS5zY3JpcHRpbmcuZXhlY3V0ZVNjcmlwdChcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0YXJnZXQ6IHtcclxuICAgICAgICAgICAgdGFiSWQ6IFRBQi5pZCxcclxuICAgICAgICAgICAgYWxsRnJhbWVzOiB0cnVlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGZ1bmN0aW9uOiBjaGVja0hlYWRpbmdzLFxyXG4gICAgICAgICAgYXJnczogW1RBR1MsIFwiYTExeV9oZWFkaW5nXCIsICEhdGhpcy5pc0hlYWRpbmdzVmlzaWJsZV0sXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfSxcclxuICB9LFxyXG59O1xyXG5cclxuZnVuY3Rpb24gY2hlY2tIZWFkaW5ncygpIHtcclxuICBjaGVja0hlYWRpbmdzSW5XaW5kb3cod2luZG93KTtcclxuXHJcbiAgZnVuY3Rpb24gY2hlY2tIZWFkaW5nc0luV2luZG93KGN1cnJlbnRXaW5kb3cgPSB3aW5kb3cpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGZpbmRBbGxIZWFkaW5ncyhjdXJyZW50V2luZG93KTtcclxuICAgICAgLy8gVE9ETzogZnJhbWVzXHJcbiAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudFdpbmRvdy5mcmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gICBjaGVja0hlYWRpbmdzSW5XaW5kb3coY3VycmVudFdpbmRvdy5mcmFtZXNbaV0pO1xyXG4gICAgICAvLyB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGZpbmRBbGxIZWFkaW5ncyhjdXJyZW50V2luZG93KSB7XHJcbiAgICBjb25zdCBIRUFESU5HUyA9IGN1cnJlbnRXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImgxLCBoMiwgaDMsIGg0LCBoNSwgaDZcIik7XHJcbiAgICBjb25zdCBIRUFESU5HU19WSVNJQkxFID0gW107XHJcbiAgICAvLyB0YWdOYW1lXHJcbiAgICBIRUFESU5HUy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICBpZiAoaXNFbGVtZW50VmlzaWJsZShlbGVtZW50KSkge1xyXG4gICAgICAgIEhFQURJTkdTX1ZJU0lCTEUucHVzaChlbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIkhFQURJTkdTX1ZJU0lCTEVcIiwgSEVBRElOR1NfVklTSUJMRSk7XHJcbiAgICBjb25zb2xlLmxvZyhcImxlbmd0aFwiLCBIRUFESU5HU19WSVNJQkxFLmxlbmd0aCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc0VsZW1lbnRWaXNpYmxlKGVsZW1lbnQpIHtcclxuICAgIHJldHVybiBlbGVtZW50Lm9mZnNldFdpZHRoID4gMCAmJiBlbGVtZW50Lm9mZnNldEhlaWdodCA+IDA7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJ0ZXh0Rm9yQnRuVG9nZ2xlSGVhZGluZ3MiLCJsaW5rcyJdLCJzb3VyY2VSb290IjoiIn0=